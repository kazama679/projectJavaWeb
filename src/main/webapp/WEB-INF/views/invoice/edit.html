<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
<div class="fixed inset-0 z-50 flex items-center justify-center bg-black/40">
  <div class="bg-white rounded-lg shadow-lg w-[900px] max-w-full p-4">
    <div class="flex justify-between items-center p-4">
      <h2 class="text-lg font-semibold">Invoice Detail</h2>
      <a href="/invoices" id="cancelShow" class="text-gray-500 hover:text-red-500 text-xl cursor-pointer">×</a>
    </div>

    <div class="overflow-x-auto p-4">
      <table class="w-full text-sm text-left">
        <thead class="bg-gray-100 text-gray-700">
        <tr>
          <th class="p-3">STT</th>
          <th class="p-3">Product Name</th>
          <th class="p-3">Brand</th>
          <th class="p-3 text-center">Quantity</th>
          <th class="p-3">Price</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="invoiceDetail, i : ${invoiceDetails}" class="border-b border-gray-200">
          <td th:text="${i.index + 1}" class="p-3">1</td>
          <td th:text="${invoiceDetail.product.name}" class="p-3">Shoe</td>
          <td th:text="${invoiceDetail.product.brand}" class="p-3">Balenciaga</td>
          <td th:text="${invoiceDetail.quantity}" class="p-3 text-center">2</td>
          <td th:text="${invoiceDetail.product.price}" class="p-3">1,200 $</td>
        </tr>
        </tbody>
      </table>
      <form th:action="@{/invoices/updateStatus}" method="post" class="mt-8">
        <input type="hidden" th:name="id" th:value="${invoice.id}" />
        <div class="flex gap-4 mb-4 items-center">
          <label for="status" class="w-[30%]">Trạng thái đơn hàng:</label>
<!--          <select name="status" id="status" class="border rounded p-2 w-full" th:if="${invoice.status} == 'CANCELED' || ${invoice.status} == 'COMPLETED' ? readonly : ''">-->
          <select name="status" id="status" class="border rounded p-2 w-full">
            <option th:each="status : ${statuses}"
                    th:value="${status}"
                    th:text="${status}"
                    th:selected="${invoice.status} == ${status}">
            </option>
          </select>
        </div>
        <div class="mt-4 flex justify-end">
          <button type="submit" class="px-5 py-2 bg-orange-500 text-white rounded hover:bg-orange-600 cursor-pointer">Cập nhật</button>
        </div>
      </form>
    </div>
  </div>
</div>
</body>
</html>